#labels Featured
Some helpful tips to using namebench:

= The command-line =

By default, the namebench command-line uses a weighted sample set from [http://alexa.com Alexa] Top 10000 Global domains list:

{{{
namebench.py
}}}


Namebench also supports running benchmarks based on your web browser or web proxy history:

{{{
namebench.py -i safari
}}}

If you are a System Administrator, the best source of data is processed tcpdump logs. We've included a sample playback file for your testing pleasure. Try this: 

{{{
./namebench.py -t50 -x chunk -i data/firewall-dns-traffic-BE.replay
}}}

= Sample Output =

The overall mean request duration is displayed as both plain-text, and a link to a graphical representation:

{{{
Overall Mean Request Duration (in milliseconds):
------------------------------------------------------------------------------
Scarlet-0        ################## 73
SYS-10.0.0.1     ############################## 124
EDPnet-2         ################################# 136
UltraDNS         ################################## 139
Brutele          ####################################### 162
PrivacyBox       ######################################## 162
UGent-2          ########################################### 177
UltraDNS-2       ############################################# 184
OpenDNS          ##################################################### 218
Unifiedroot-2    ##################################################### 220

}}}

The most striking graph is a distribution of what percentage of queries were answered in how many milliseconds. This graph comes from Safitech in New Zealand:

http://chart.apis.google.com/chart?cht=lxy&chs=825x363&chxt=x,y&chg=10,20&chxr=0,0,300|1,0,100&chd=t:0,20,20,20,20,21,21,21,22,25,76,80,85,91,105|0,1,6,21,35,43,49,55,60,64,67,71,75,78,82|0,11,11,11,11,12,16,58,61,63,72,77,83,88,108|0,1,12,17,25,32,35,40,44,47,51,55,58,63,66|0,16,17,17,18,18,19,19,19,20,21,22,70,74,80,86,90,96,107|0,1,5,12,17,24,30,38,42,46,51,55,58,62,65,69,73,76,80|0,48,48,49,49,49,52,54,61,67,71,83,92,102|0,1,16,35,41,45,51,55,58,62,65,69,73,76|0,55,55,55,56,56,56,56,57,60,76,81,110|0,1,18,36,54,58,67,71,75,79,83,86,90|0,55,55,55,56,56,56,56,57,57,60,72,82,117|0,1,12,27,45,49,56,65,69,73,76,80,84,88|0,0,1,1,1,1,1,50,52,59,62,68,74,77,98,106|0,1,14,27,32,38,42,45,49,53,57,61,65,68,72,76|0,70,70,70,70,71,71,73,125|0,1,11,23,27,32,37,41,45|0,51,52,52,52,52,53,55,55,59,67,77,79,93,103|0,1,14,21,25,34,41,45,48,53,56,61,65,68,72|0,7,7,7,7,8,9,9,10,14,29,54,65,76,103|0,1,28,45,49,55,60,66,70,74,77,82,85,89,93|0,7,7,7,7,8,8,9,9,24,52,58,64,70,93,107|0,1,13,42,48,54,57,62,67,71,75,78,82,85,89,93&chco=ff9900,1a00ff,80ff00,ff00e6,00e6ff,fae30a,9900ff,9f5734,000000,7b9f34,3090c0&chxt=x,y,x,y&chxl=2:||Duration+in+ms||3:||%25|&chdl=AAPT|Clear+NZ|Ethan+Group|Level3-2|OpenDNS|OpenDNS-2|Snap+NZ|UltraDNS|UltraDNS-2|Xtra+NZ|Xtra+NZ-2&x.png

In this graph, it is easy to see the physical distance of each nameserver from the tester. Snap NZ is upstream from the tester, and Xtra NZ, Xtra NZ-2 are located all within New Zealand. The next grouping is Ethan Group and AAPT, which are in Australia. The rest of the nameservers are most likely in Asia and the west coast of the United States.

It is easy to see the cache hit rate from this chart as well. Snap NZ had a ~43% cache  hit rate before falling back to direct resolution, whereas OpenDNS had an impressive ~75% cache hit rate for this test.